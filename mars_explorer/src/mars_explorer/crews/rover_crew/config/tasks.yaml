final_nodes:
  description: >
    Based on the information inside the input file """ {{report_priority}} """, identify in which nodes rovers need to perform their tasks.
  expected_output: >
    A Python list containing all the node IDs where rovers need to perform their tasks.
  agent: extractor


reporting_route:
  description: >
    You MUST do exactly these steps:
    Step 1) Call Multi_Rover_Route_Calculator with:
      - rovers = """ {{rovers}} """
      - final_nodes = """ {{context.final_nodes}} """
    Step 2) Return EXACTLY the tool output bytes as JSON.
    Rules:
      - Do NOT add keys
      - Do NOT remove keys
      - Do NOT reformat
      - Do NOT summarize
      - Do NOT explain
      - Output must be valid JSON and nothing else.

  expected_output: >
    The output from the Multi_Rover_Route_Calculator tool. DO NOT MODIFY THE OUTPUT.

  agent: route_planner


task_ranking:
  description: >
    1. Retrieve the COMPLETE output from the 'reporting_route' task.
    2. Extract the 'results' dictionary from that data.
    3. Execute the Multi_Rover_Node_Assigner tool using that 'results' dictionary as the 'rover_results' argument.
    4. FORBIDDEN: Do not wrap the output in markdown code blocks (```json).
    5. FORBIDDEN: Do not add any introductory text, explanations, or conclusions.
    6. Return the tool's output dictionary WITHOUT MODIFICATIONS.
  expected_output: >
    RETURN THE OUTPUT OF THE Multi_Rover_Node_Assigner TOOL AS YOUR FINAL ANSWER WITHOUT ANY MODIFICATIONS.
  agent: ranking

reporting_sampling:
  description: >
    Analyze the goals in """ {{report_priority}} """ for the rovers.
    For each unique goal/terrain combination found in the file, write a detailed procedure in Markdown.
    Generates a detailed report of all samples to be collected, including the type of sample, sensors used, collection procedure, and any relevant observations.
  expected_output: >
    A Markdown file ('sample_collector_drone.md') containing the 10-step procedures for the identified targets.
  agent: sample_collector
