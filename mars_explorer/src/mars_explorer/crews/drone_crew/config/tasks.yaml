final_nodes:
  description: >
    Based on the information inside the input file """ {{report_priority}} """, identify in which nodes drones need to perform their tasks.
  expected_output: >
    A Python list containing all the node IDs where drones need to perform their tasks.
  agent: extractor

reporting_route:
  description: >
    CALL THE TOOL Batch_Flight_Calculator NOW.

    Tool name: Batch_Flight_Calculator

    Tool arguments (use EXACTLY these variable names):
    - targets_list: final nodes received from the extractor agent """ {{context.final_nodes()}} """
    - drones_data: {{drones}}
    - hazards: {{hazards}}

    AFTER THE TOOL RETURNS:
    - Output EXACTLY the tool output.
    - Do NOT add text.
    - Do NOT modify JSON.

    FAILURE CONDITIONS:
    - If you output paths without calling the tool,  FAIL.
    - If you shorten or invent paths, FAIL.

  expected_output: >
    A JSON file containing the EXACT output of Batch_Flight_Calculator
    Example:
    {"drone_1": [["N90", "N95", "N100", "N102", "N100", "N95", "N90"]],
    "drone_0": [["N30", "N40", "N55", "N70", "N55", "N40", "N30"]]}

  agent: flight_planner

# generate_sampling:
#   description: >
#     Plan and coordinate drone-based sampling operations based on mission objectives and environmental data. Ensure sampling plans are efficient, safe, and aligned with drone capabilities and mission priorities.
#   expected_output: >
#     A detailed report containing the sampling instructions for each drone.
#   agent: sample_collector


generate_sampling:
  description: >
    Analyze the goals in """ {{report_priority}} """ for the drones.
    For each unique goal found in the file, write a detailed procedure in Markdown.
    Generates a detailed report of all samples to be collected, including the type of sample, collection procedure, and any relevant observations.
  expected_output: >
    A Markdown file ('sample_collector_drone.md') containing the 10-step procedures for the identified targets.
  agent: sample_collector
